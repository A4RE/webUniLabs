-- phpMyAdmin SQL Dump
-- version 5.2.0
-- https://www.phpmyadmin.net/
--
-- Хост: localhost:8889
-- Время создания: Апр 07 2023 г., 14:21
-- Версия сервера: 5.7.39
-- Версия PHP: 8.2.0

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `cafe`
--

-- --------------------------------------------------------

--
-- Структура таблицы `Ассортимент`
--

CREATE TABLE `Ассортимент` (
  `ID_продукта` int(7) NOT NULL,
  `Наименование_вып` varchar(50) NOT NULL,
  `Описание_вып` varchar(100) NOT NULL,
  `Цена` float NOT NULL,
  `ID_Типа` int(7) DEFAULT NULL,
  `Фотография_товара` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Ассортимент`
--

INSERT INTO `Ассортимент` (`ID_продукта`, `Наименование_вып`, `Описание_вып`, `Цена`, `ID_Типа`, `Фотография_товара`) VALUES
(1, 'Круассан классический', 'Круассан классический без начинки', 150, 4, ''),
(2, 'Пончик', 'Пончик с глазурью', 34, 1, ''),
(3, 'Пирожное картошка', 'Пирожное картошка', 80, 2, ''),
(4, 'Слойка с сыром', 'Слойка с сыром', 110, 4, ''),
(5, 'Салат Греческий', 'Салат Греческий', 180, 5, ''),
(6, 'Кофе', 'Кофе', 120, 3, ''),
(7, 'Вода', 'Вода с газом/без', 60, 3, ''),
(8, 'Печенье', 'Печенье', 100, 1, ''),
(9, 'Лимонад', 'Лимонад', 135, 3, ''),
(10, 'Салат Цезарь', 'Салат Цезарь с курицей', 245, 5, '');

-- --------------------------------------------------------

--
-- Структура таблицы `Должность`
--

CREATE TABLE `Должность` (
  `ID_Должности` int(7) NOT NULL,
  `Название` varchar(50) NOT NULL,
  `Описание` varchar(100) NOT NULL,
  `Оклад` float NOT NULL,
  `Процент_с_продаж` int(3) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Должность`
--

INSERT INTO `Должность` (`ID_Должности`, `Название`, `Описание`, `Оклад`, `Процент_с_продаж`) VALUES
(7, 'Директор', 'Управляющий кафе', 100000, 5),
(8, 'Официант', 'Официант в кафе', 35000, 2),
(9, 'Управляющий', 'Управляющий в зале', 60000, 3),
(10, 'Бармен', 'Бармен', 25000, 2),
(11, 'Повар', 'Повар в кафе', 45000, 0),
(12, 'Главный повар', 'Главный повар кафе', 65000, 0);

-- --------------------------------------------------------

--
-- Структура таблицы `Кафе`
--

CREATE TABLE `Кафе` (
  `ID_кафе` int(7) NOT NULL,
  `Адрес` varchar(100) NOT NULL,
  `Вместимость` int(3) NOT NULL,
  `Фотография` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Кафе`
--

INSERT INTO `Кафе` (`ID_кафе`, `Адрес`, `Вместимость`, `Фотография`) VALUES
(1, 'Г.Санкт-Петербург, Приморский р-он, ул. Оптиков, д.34, к2', 50, 'assets/img/1.jpeg'),
(2, 'Г.Санкт-Петербург, Московский р-он, ул. Гастелло, д.32, к1', 100, 'assets/img/2.jpeg'),
(3, 'Г.Санкт-Петербург, Проспект Большевиков, Российский пр., д.8, к3', 25, 'assets/img/3.jpeg'),
(4, 'Г.Санкт-Петербург, Крестовский остров, ул. Зенит, д.25', 30, 'assets/img/4.jpeg');

-- --------------------------------------------------------

--
-- Структура таблицы `Клиент`
--

CREATE TABLE `Клиент` (
  `ID_Клиента` int(7) NOT NULL,
  `ФИО_клиента` varchar(255) NOT NULL,
  `email` varchar(255) NOT NULL,
  `Логин` varchar(255) NOT NULL,
  `Пароль` varchar(255) NOT NULL,
  `Телефон` varchar(20) NOT NULL,
  `Дата_регистрации` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Клиент`
--

INSERT INTO `Клиент` (`ID_Клиента`, `ФИО_клиента`, `email`, `Логин`, `Пароль`, `Телефон`, `Дата_регистрации`) VALUES
(8, 'Коваленко АА', 'aakoval01@gmail.com', 'aakoval', '1234', '+79064634834', '2023-04-07 13:22:30');

-- --------------------------------------------------------

--
-- Структура таблицы `Корзина`
--

CREATE TABLE `Корзина` (
  `id_заказа` int(7) NOT NULL,
  `id_клиента` int(7) NOT NULL,
  `id_продукта` int(7) NOT NULL,
  `Дата_заказа` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `Замечание` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Корзина`
--

INSERT INTO `Корзина` (`id_заказа`, `id_клиента`, `id_продукта`, `Дата_заказа`, `Замечание`) VALUES
(1, 8, 1, '2023-04-07 13:52:59', NULL),
(2, 8, 2, '2023-04-07 13:52:59', NULL),
(3, 8, 3, '2023-04-07 13:52:59', NULL);

-- --------------------------------------------------------

--
-- Структура таблицы `Событие`
--

CREATE TABLE `Событие` (
  `id_события` int(7) NOT NULL,
  `Название_события` varchar(255) NOT NULL,
  `id_кафе` int(7) NOT NULL,
  `Описание` varchar(500) NOT NULL,
  `Тип` varchar(100) NOT NULL,
  `Начало_акции` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `Конец_акции` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Событие`
--

INSERT INTO `Событие` (`id_события`, `Название_события`, `id_кафе`, `Описание`, `Тип`, `Начало_акции`, `Конец_акции`) VALUES
(1, 'Купи 2 классических круассана и получи маленький Латте в подарок.', 4, 'Купи 2 классических круассана и получи маленький Латте в подарок. Чтобы активировать акцию, скажите на кассе код - 0203', 'Акция', '2023-04-07 14:08:25', '2023-04-07 14:08:25'),
(2, 'Купи 2 классических круассана и получи маленький Латте в подарок.', 4, 'Купи 2 классических круассана и получи маленький Латте в подарок. Чтобы активировать акцию, скажите на кассе код - 0203', 'Акция', '2023-04-07 14:08:25', '2023-04-07 14:08:25'),
(3, 'Купи 2 классических круассана и получи маленький Латте в подарок.', 4, 'Купи 2 классических круассана и получи маленький Латте в подарок. Чтобы активировать акцию, скажите на кассе код - 0203', 'Акция', '2023-04-07 14:08:25', '2023-04-07 14:08:25'),
(4, 'Купи 2 классических круассана и получи маленький Латте в подарок.', 4, 'Купи 2 классических круассана и получи маленький Латте в подарок. Чтобы активировать акцию, скажите на кассе код - 0203', 'Акция', '2023-04-07 14:08:25', '2023-04-07 14:08:25'),
(5, 'Купи 2 классических круассана и получи маленький Латте в подарок.', 4, 'Купи 2 классических круассана и получи маленький Латте в подарок. Чтобы активировать акцию, скажите на кассе код - 0303', 'Акция', '2023-04-07 14:08:25', '2023-04-07 14:08:25');

-- --------------------------------------------------------

--
-- Структура таблицы `Сотрудник`
--

CREATE TABLE `Сотрудник` (
  `ID_Сотрудника` int(7) NOT NULL,
  `Фамилия` varchar(20) NOT NULL,
  `Имя` varchar(20) NOT NULL,
  `Отчество` varchar(20) NOT NULL,
  `Телефон` varchar(12) NOT NULL,
  `Паспорт` varchar(11) NOT NULL,
  `ID_кафе` int(7) NOT NULL,
  `ID_Должности` int(7) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Сотрудник`
--

INSERT INTO `Сотрудник` (`ID_Сотрудника`, `Фамилия`, `Имя`, `Отчество`, `Телефон`, `Паспорт`, `ID_кафе`, `ID_Должности`) VALUES
(1, 'Свердлюченко', 'Алексей', 'Владимирович', '+79045423421', '4134 678023', 4, 7),
(2, 'Бондарева', 'Юлия', 'Андреевна', '+79634423485', '4234 567890', 2, 9),
(3, 'Андреев', 'Сергей', 'Михайлович', '+79043456780', '4450 678021', 4, 10),
(4, 'Романов', 'Игорь', 'Владимирович', '+79042234534', '4562 802156', 4, 8),
(5, 'Кузнецова', 'Дарья', 'Владимировна', '+79024456729', '4320 578030', 2, 8),
(6, 'Харченко', 'Сергей', 'Владимирович', '+79632434561', '4670 892031', 2, 7);

-- --------------------------------------------------------

--
-- Структура таблицы `Тип`
--

CREATE TABLE `Тип` (
  `ID_Типа` int(7) NOT NULL,
  `Наименование` varchar(20) NOT NULL,
  `Описание` varchar(100) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Тип`
--

INSERT INTO `Тип` (`ID_Типа`, `Наименование`, `Описание`) VALUES
(1, 'Сладкая выпечка', 'Сладкая выпечка'),
(2, 'Пирожные', 'Пирожные'),
(3, 'Напитки', 'Напитки'),
(4, 'Выпечка', 'Обыкновенная выпечка'),
(5, 'Салаты', 'Салаты');

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `Ассортимент`
--
ALTER TABLE `Ассортимент`
  ADD PRIMARY KEY (`ID_продукта`),
  ADD KEY `ID_Типа` (`ID_Типа`);

--
-- Индексы таблицы `Должность`
--
ALTER TABLE `Должность`
  ADD PRIMARY KEY (`ID_Должности`);

--
-- Индексы таблицы `Кафе`
--
ALTER TABLE `Кафе`
  ADD PRIMARY KEY (`ID_кафе`);

--
-- Индексы таблицы `Клиент`
--
ALTER TABLE `Клиент`
  ADD PRIMARY KEY (`ID_Клиента`);

--
-- Индексы таблицы `Корзина`
--
ALTER TABLE `Корзина`
  ADD PRIMARY KEY (`id_заказа`),
  ADD KEY `id_клиента` (`id_клиента`),
  ADD KEY `корзина_ibfk_2` (`id_продукта`);

--
-- Индексы таблицы `Событие`
--
ALTER TABLE `Событие`
  ADD PRIMARY KEY (`id_события`),
  ADD KEY `id_кафе` (`id_кафе`);

--
-- Индексы таблицы `Сотрудник`
--
ALTER TABLE `Сотрудник`
  ADD PRIMARY KEY (`ID_Сотрудника`),
  ADD KEY `ID_кафе` (`ID_кафе`),
  ADD KEY `сотрудник_ibfk_2` (`ID_Должности`);

--
-- Индексы таблицы `Тип`
--
ALTER TABLE `Тип`
  ADD PRIMARY KEY (`ID_Типа`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `Ассортимент`
--
ALTER TABLE `Ассортимент`
  MODIFY `ID_продукта` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- AUTO_INCREMENT для таблицы `Должность`
--
ALTER TABLE `Должность`
  MODIFY `ID_Должности` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- AUTO_INCREMENT для таблицы `Кафе`
--
ALTER TABLE `Кафе`
  MODIFY `ID_кафе` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT для таблицы `Клиент`
--
ALTER TABLE `Клиент`
  MODIFY `ID_Клиента` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- AUTO_INCREMENT для таблицы `Корзина`
--
ALTER TABLE `Корзина`
  MODIFY `id_заказа` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT для таблицы `Событие`
--
ALTER TABLE `Событие`
  MODIFY `id_события` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- AUTO_INCREMENT для таблицы `Сотрудник`
--
ALTER TABLE `Сотрудник`
  MODIFY `ID_Сотрудника` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT для таблицы `Тип`
--
ALTER TABLE `Тип`
  MODIFY `ID_Типа` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `Ассортимент`
--
ALTER TABLE `Ассортимент`
  ADD CONSTRAINT `ассортимент_ibfk_1` FOREIGN KEY (`ID_Типа`) REFERENCES `Тип` (`ID_Типа`);

--
-- Ограничения внешнего ключа таблицы `Корзина`
--
ALTER TABLE `Корзина`
  ADD CONSTRAINT `корзина_ibfk_1` FOREIGN KEY (`id_клиента`) REFERENCES `Клиент` (`ID_Клиента`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `корзина_ibfk_2` FOREIGN KEY (`id_продукта`) REFERENCES `Ассортимент` (`ID_продукта`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `Событие`
--
ALTER TABLE `Событие`
  ADD CONSTRAINT `событие_ibfk_1` FOREIGN KEY (`id_кафе`) REFERENCES `Кафе` (`ID_кафе`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `Сотрудник`
--
ALTER TABLE `Сотрудник`
  ADD CONSTRAINT `сотрудник_ibfk_1` FOREIGN KEY (`ID_кафе`) REFERENCES `Кафе` (`ID_кафе`),
  ADD CONSTRAINT `сотрудник_ibfk_2` FOREIGN KEY (`ID_Должности`) REFERENCES `Должность` (`ID_Должности`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
