-- phpMyAdmin SQL Dump
-- version 5.2.0
-- https://www.phpmyadmin.net/
--
-- Хост: localhost:8889
-- Время создания: Мар 15 2023 г., 19:52
-- Версия сервера: 5.7.39
-- Версия PHP: 8.2.0

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `auto`
--

-- --------------------------------------------------------

--
-- Структура таблицы `Автомобили`
--

CREATE TABLE `Автомобили` (
  `ID_Авто` int(7) NOT NULL,
  `Марка` varchar(20) NOT NULL,
  `Модель` varchar(20) NOT NULL,
  `Мощность` int(4) NOT NULL,
  `Цена` float NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Автомобили`
--

INSERT INTO `Автомобили` (`ID_Авто`, `Марка`, `Модель`, `Мощность`, `Цена`) VALUES
(1, 'Honda', 'Civic', 185, 1885000),
(2, 'Audi', 'A7', 340, 4350000),
(3, 'Hyundai', 'Tucson', 149, 2519000),
(4, 'Volkswagen', 'Polo', 110, 2015700),
(5, 'Honda', 'Accord', 252, 3500000),
(6, 'Audi', 'Rs5', 450, 7360000),
(7, 'Porsche', 'Panamera', 330, 7000000),
(8, 'Honda', 'CR-V', 150, 4685000),
(9, 'Volkswagen', 'Jetta', 110, 2379000),
(10, 'Volkswagen', 'Passat', 180, 4350000),
(11, 'Hyundai', 'Solaris', 123, 1997000),
(12, 'Hyundai', 'Sonata', 180, 3747000),
(13, 'Hyundai', 'Elantra', 128, 2774000);

-- --------------------------------------------------------

--
-- Структура таблицы `Автопроизводители`
--

CREATE TABLE `Автопроизводители` (
  `ID_Организации` int(7) NOT NULL,
  `Название` varchar(20) NOT NULL,
  `Страна` varchar(20) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Автопроизводители`
--

INSERT INTO `Автопроизводители` (`ID_Организации`, `Название`, `Страна`) VALUES
(1, 'Volkswagen', 'Германия'),
(2, 'Hyundai', 'США'),
(3, 'Honda', 'Япония'),
(4, 'Audi', 'Германия'),
(5, 'Porsche', 'Германия');

-- --------------------------------------------------------

--
-- Структура таблицы `Клиенты`
--

CREATE TABLE `Клиенты` (
  `ID_Клиента` int(7) NOT NULL,
  `Имя` varchar(20) NOT NULL,
  `Фамилия` varchar(20) NOT NULL,
  `Отчество` varchar(20) NOT NULL,
  `ID_Организации` int(7) NOT NULL,
  `ID_Автомобиля` int(7) NOT NULL,
  `ID_Прибыли` int(7) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Клиенты`
--

INSERT INTO `Клиенты` (`ID_Клиента`, `Имя`, `Фамилия`, `Отчество`, `ID_Организации`, `ID_Автомобиля`, `ID_Прибыли`) VALUES
(1, 'Виктор', 'Зуев', 'Ефимович', 4, 2, 1),
(2, 'Олег', 'Павлов', 'Максимович', 1, 4, 2),
(3, 'Остап', 'Ермаков', 'Олегович', 3, 5, 3),
(4, 'Юрий', 'Рыбаков', 'Александрович', 2, 13, 4),
(5, 'Кирилл', 'Денисов', 'Григорьевич', 4, 6, 5),
(6, 'Михаил', 'Семёнов', 'Тимурович', 5, 7, 6),
(7, 'Эдуард', 'Чернов', 'Павлович', 3, 1, 7),
(8, 'Семён', 'Дмитриев', 'Александрович', 2, 12, 8),
(9, 'Марк', 'Быков', 'Иванович', 2, 3, 9),
(10, 'Артур', 'Щукин', 'Яковлевич', 1, 10, 10),
(11, 'Владимир', 'Корнилов', 'Ефимович', 5, 7, 6),
(12, 'Евгений', 'Орлов', 'Петрович', 1, 9, 13),
(13, 'Николай', 'Якушев', 'Юрьевич', 3, 8, 12),
(14, 'Федор', 'Соловьев', 'Матвеевич', 4, 6, 5);

-- --------------------------------------------------------

--
-- Структура таблицы `Перечень_авто`
--

CREATE TABLE `Перечень_авто` (
  `ID_Организации` int(7) NOT NULL,
  `ID_Автомобиля` int(7) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Перечень_авто`
--

INSERT INTO `Перечень_авто` (`ID_Организации`, `ID_Автомобиля`) VALUES
(1, 4),
(1, 9),
(1, 10),
(2, 3),
(2, 11),
(2, 12),
(2, 13),
(3, 1),
(3, 5),
(3, 8),
(4, 2),
(4, 6),
(5, 7);

-- --------------------------------------------------------

--
-- Структура таблицы `Прибыль`
--

CREATE TABLE `Прибыль` (
  `ID_Прибыли` int(7) NOT NULL,
  `Сумма` int(7) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Прибыль`
--

INSERT INTO `Прибыль` (`ID_Прибыли`, `Сумма`) VALUES
(1, 6470000),
(2, 2015700),
(3, 3500000),
(4, 2774000),
(5, 7360000),
(6, 7000000),
(7, 1885000),
(8, 3747000),
(9, 2519000),
(10, 4350000),
(11, 1997000),
(12, 4685000),
(13, 2379000);

-- --------------------------------------------------------

--
-- Структура таблицы `Сделки`
--

CREATE TABLE `Сделки` (
  `ID_Сделки` int(7) NOT NULL,
  `Дата` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `ID_Сотрудника` int(7) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Сделки`
--

INSERT INTO `Сделки` (`ID_Сделки`, `Дата`, `ID_Сотрудника`) VALUES
(1, '2021-11-03 16:23:00', 1),
(2, '2021-09-23 12:22:17', 1),
(3, '2021-10-28 11:40:17', 2),
(4, '2021-10-29 12:40:17', 4),
(5, '2021-11-30 16:42:23', 3),
(6, '2021-09-18 14:42:23', 6),
(7, '2021-10-17 12:58:23', 7),
(8, '2021-09-06 14:03:23', 5),
(9, '2021-11-09 13:42:23', 9),
(10, '2021-11-12 15:42:23', 8),
(11, '2021-10-01 14:18:33', 12),
(12, '2021-09-17 14:27:33', 12),
(13, '2021-09-21 12:08:33', 11),
(14, '2021-12-16 11:59:33', 10);

-- --------------------------------------------------------

--
-- Структура таблицы `Соглашение`
--

CREATE TABLE `Соглашение` (
  `ID_Сделки` int(7) NOT NULL,
  `ID_Клиента` int(7) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- --------------------------------------------------------

--
-- Структура таблицы `Сотрудники`
--

CREATE TABLE `Сотрудники` (
  `ID_Сотрудника` int(7) NOT NULL,
  `Имя` varchar(20) NOT NULL,
  `Фамилия` varchar(20) NOT NULL,
  `Отчество` varchar(20) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Сотрудники`
--

INSERT INTO `Сотрудники` (`ID_Сотрудника`, `Имя`, `Фамилия`, `Отчество`) VALUES
(1, 'Александр', 'Крюков', 'Аркадьевич'),
(2, 'Глеб', 'Овчинников', 'Артемович'),
(3, 'Артур', 'Чернов', 'Игнатьевич'),
(4, 'Борис', 'Исаев', 'Ростиславович'),
(5, 'Мирон', 'Ковалев', 'Петрович'),
(6, 'Федор', 'Макаров', 'Филиппович'),
(7, 'Виктор', 'Романов', 'Леонидович'),
(8, 'Эльдар', 'Моисеев', 'Максимович'),
(9, 'Петр', 'Туров', 'Вячеславович'),
(10, 'Антон', 'Медведев', 'Глебович'),
(11, 'Владимир', 'Гришин', 'Станиславович'),
(12, 'Эльдар', 'Нестеров', 'Леонидович'),
(13, 'Артур', 'Муравьев', 'Георгиевич'),
(16, 'Алексей', 'Иванов', 'Олегович');

-- --------------------------------------------------------

--
-- Структура таблицы `Сотрудничество`
--

CREATE TABLE `Сотрудничество` (
  `ID_Сотрудника` int(7) NOT NULL,
  `ID_Организации` int(7) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `Сотрудничество`
--

INSERT INTO `Сотрудничество` (`ID_Сотрудника`, `ID_Организации`) VALUES
(1, 1),
(2, 1),
(3, 1),
(4, 2),
(5, 2),
(6, 2),
(7, 3),
(8, 3),
(9, 4),
(10, 4),
(11, 4),
(12, 5),
(13, 5);

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `Автомобили`
--
ALTER TABLE `Автомобили`
  ADD PRIMARY KEY (`ID_Авто`);

--
-- Индексы таблицы `Автопроизводители`
--
ALTER TABLE `Автопроизводители`
  ADD PRIMARY KEY (`ID_Организации`);

--
-- Индексы таблицы `Клиенты`
--
ALTER TABLE `Клиенты`
  ADD PRIMARY KEY (`ID_Клиента`),
  ADD KEY `ID_Организации` (`ID_Организации`),
  ADD KEY `клиенты_ibfk_2` (`ID_Автомобиля`),
  ADD KEY `клиенты_ibfk_3` (`ID_Прибыли`);

--
-- Индексы таблицы `Перечень_авто`
--
ALTER TABLE `Перечень_авто`
  ADD PRIMARY KEY (`ID_Автомобиля`),
  ADD KEY `ID_Организации` (`ID_Организации`);

--
-- Индексы таблицы `Прибыль`
--
ALTER TABLE `Прибыль`
  ADD PRIMARY KEY (`ID_Прибыли`);

--
-- Индексы таблицы `Сделки`
--
ALTER TABLE `Сделки`
  ADD PRIMARY KEY (`ID_Сделки`),
  ADD KEY `ID_Сотрудника` (`ID_Сотрудника`);

--
-- Индексы таблицы `Соглашение`
--
ALTER TABLE `Соглашение`
  ADD PRIMARY KEY (`ID_Сделки`),
  ADD KEY `соглашение_ibfk_2` (`ID_Клиента`);

--
-- Индексы таблицы `Сотрудники`
--
ALTER TABLE `Сотрудники`
  ADD PRIMARY KEY (`ID_Сотрудника`);

--
-- Индексы таблицы `Сотрудничество`
--
ALTER TABLE `Сотрудничество`
  ADD PRIMARY KEY (`ID_Сотрудника`),
  ADD KEY `ID_Организации` (`ID_Организации`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `Автомобили`
--
ALTER TABLE `Автомобили`
  MODIFY `ID_Авто` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=14;

--
-- AUTO_INCREMENT для таблицы `Автопроизводители`
--
ALTER TABLE `Автопроизводители`
  MODIFY `ID_Организации` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- AUTO_INCREMENT для таблицы `Клиенты`
--
ALTER TABLE `Клиенты`
  MODIFY `ID_Клиента` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=15;

--
-- AUTO_INCREMENT для таблицы `Перечень_авто`
--
ALTER TABLE `Перечень_авто`
  MODIFY `ID_Автомобиля` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=14;

--
-- AUTO_INCREMENT для таблицы `Прибыль`
--
ALTER TABLE `Прибыль`
  MODIFY `ID_Прибыли` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=14;

--
-- AUTO_INCREMENT для таблицы `Сделки`
--
ALTER TABLE `Сделки`
  MODIFY `ID_Сделки` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=15;

--
-- AUTO_INCREMENT для таблицы `Соглашение`
--
ALTER TABLE `Соглашение`
  MODIFY `ID_Сделки` int(7) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT для таблицы `Сотрудники`
--
ALTER TABLE `Сотрудники`
  MODIFY `ID_Сотрудника` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=17;

--
-- AUTO_INCREMENT для таблицы `Сотрудничество`
--
ALTER TABLE `Сотрудничество`
  MODIFY `ID_Сотрудника` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=14;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `Клиенты`
--
ALTER TABLE `Клиенты`
  ADD CONSTRAINT `клиенты_ibfk_1` FOREIGN KEY (`ID_Организации`) REFERENCES `Автопроизводители` (`ID_Организации`),
  ADD CONSTRAINT `клиенты_ibfk_2` FOREIGN KEY (`ID_Автомобиля`) REFERENCES `Автомобили` (`ID_Авто`),
  ADD CONSTRAINT `клиенты_ibfk_3` FOREIGN KEY (`ID_Прибыли`) REFERENCES `Прибыль` (`ID_Прибыли`);

--
-- Ограничения внешнего ключа таблицы `Перечень_авто`
--
ALTER TABLE `Перечень_авто`
  ADD CONSTRAINT `перечень_авто_ibfk_1` FOREIGN KEY (`ID_Организации`) REFERENCES `Автопроизводители` (`ID_Организации`),
  ADD CONSTRAINT `перечень_авто_ibfk_2` FOREIGN KEY (`ID_Автомобиля`) REFERENCES `Автомобили` (`ID_Авто`);

--
-- Ограничения внешнего ключа таблицы `Сделки`
--
ALTER TABLE `Сделки`
  ADD CONSTRAINT `сделки_ibfk_1` FOREIGN KEY (`ID_Сотрудника`) REFERENCES `Сотрудники` (`ID_Сотрудника`);

--
-- Ограничения внешнего ключа таблицы `Соглашение`
--
ALTER TABLE `Соглашение`
  ADD CONSTRAINT `соглашение_ibfk_1` FOREIGN KEY (`ID_Сделки`) REFERENCES `Сделки` (`ID_Сделки`),
  ADD CONSTRAINT `соглашение_ibfk_2` FOREIGN KEY (`ID_Клиента`) REFERENCES `Клиенты` (`ID_Клиента`);

--
-- Ограничения внешнего ключа таблицы `Сотрудничество`
--
ALTER TABLE `Сотрудничество`
  ADD CONSTRAINT `сотрудничество_ibfk_1` FOREIGN KEY (`ID_Организации`) REFERENCES `Автопроизводители` (`ID_Организации`),
  ADD CONSTRAINT `сотрудничество_ibfk_2` FOREIGN KEY (`ID_Сотрудника`) REFERENCES `Сотрудники` (`ID_Сотрудника`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
